{"ast":null,"code":"module.exports = getCanvasContext;\n\nfunction getCanvasContext(type, opts) {\n  if (typeof type !== 'string') {\n    throw new TypeError('must specify type string');\n  }\n\n  opts = opts || {};\n\n  if (typeof document === 'undefined' && !opts.canvas) {\n    return null; // check for Node\n  }\n\n  var canvas = opts.canvas || document.createElement('canvas');\n\n  if (typeof opts.width === 'number') {\n    canvas.width = opts.width;\n  }\n\n  if (typeof opts.height === 'number') {\n    canvas.height = opts.height;\n  }\n\n  var attribs = opts;\n  var gl;\n\n  try {\n    var names = [type]; // prefix GL contexts\n\n    if (type.indexOf('webgl') === 0) {\n      names.push('experimental-' + type);\n    }\n\n    for (var i = 0; i < names.length; i++) {\n      gl = canvas.getContext(names[i], attribs);\n      if (gl) return gl;\n    }\n  } catch (e) {\n    gl = null;\n  }\n\n  return gl || null; // ensure null on fail\n}","map":null,"metadata":{},"sourceType":"script"}