{"ast":null,"code":"'use strict';\n\nvar scatterPlot = require('../scatter/plot');\n\nvar BADNUM = require('../../constants/numerical').BADNUM;\n\nvar helpers = require('../../plots/smith/helpers');\n\nvar smith = helpers.smith;\n\nmodule.exports = function plot(gd, subplot, moduleCalcData) {\n  var mlayer = subplot.layers.frontplot.select('g.scatterlayer');\n  var xa = subplot.xaxis;\n  var ya = subplot.yaxis;\n  var plotinfo = {\n    xaxis: xa,\n    yaxis: ya,\n    plot: subplot.framework,\n    layerClipId: subplot._hasClipOnAxisFalse ? subplot.clipIds.forTraces : null\n  }; // convert:\n  // 'c' (real,imag) -> (x,y)\n\n  for (var i = 0; i < moduleCalcData.length; i++) {\n    var cdi = moduleCalcData[i];\n\n    for (var j = 0; j < cdi.length; j++) {\n      if (j === 0) {\n        cdi[0].trace._xA = xa;\n        cdi[0].trace._yA = ya;\n      }\n\n      var cd = cdi[j];\n      var real = cd.real;\n\n      if (real === BADNUM) {\n        cd.x = cd.y = BADNUM;\n      } else {\n        var t = smith([real, cd.imag]);\n        cd.x = t[0];\n        cd.y = t[1];\n      }\n    }\n  }\n\n  scatterPlot(gd, plotinfo, moduleCalcData, mlayer);\n};","map":null,"metadata":{},"sourceType":"script"}