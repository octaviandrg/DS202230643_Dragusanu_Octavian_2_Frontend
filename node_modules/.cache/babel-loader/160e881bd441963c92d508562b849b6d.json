{"ast":null,"code":"'use strict';\n\nmodule.exports = function incrementNumeric(x, delta) {\n  if (!delta) return x; // Note 1:\n  // 0.3 != 0.1 + 0.2 == 0.30000000000000004\n  // but 0.3 == (10 * 0.1 + 10 * 0.2) / 10\n  // Attempt to use integer steps to increment\n\n  var scale = 1 / Math.abs(delta);\n  var newX = scale > 1 ? (scale * x + scale * delta) / scale : x + delta; // Note 2:\n  // now we may also consider rounding to cover few more edge cases\n  // e.g. 0.3 * 3 = 0.8999999999999999\n\n  var lenX1 = String(newX).length;\n\n  if (lenX1 > 16) {\n    var lenDt = String(delta).length;\n    var lenX0 = String(x).length;\n\n    if (lenX1 >= lenX0 + lenDt) {\n      // likely a rounding error!\n      var s = parseFloat(newX).toPrecision(12);\n      if (s.indexOf('e+') === -1) newX = +s;\n    }\n  }\n\n  return newX;\n};","map":null,"metadata":{},"sourceType":"script"}