{"ast":null,"code":"'use strict';\n\nvar isArrayOrTypedArray = require('../../lib').isArrayOrTypedArray;\n\nvar Colorscale = require('../../components/colorscale');\n\nvar wrap = require('../../lib/gup').wrap;\n\nmodule.exports = function calc(gd, trace) {\n  var lineColor;\n  var cscale;\n\n  if (Colorscale.hasColorscale(trace, 'line') && isArrayOrTypedArray(trace.line.color)) {\n    lineColor = trace.line.color;\n    cscale = Colorscale.extractOpts(trace.line).colorscale;\n    Colorscale.calc(gd, trace, {\n      vals: lineColor,\n      containerStr: 'line',\n      cLetter: 'c'\n    });\n  } else {\n    lineColor = constHalf(trace._length);\n    cscale = [[0, trace.line.color], [1, trace.line.color]];\n  }\n\n  return wrap({\n    lineColor: lineColor,\n    cscale: cscale\n  });\n};\n\nfunction constHalf(len) {\n  var out = new Array(len);\n\n  for (var i = 0; i < len; i++) {\n    out[i] = 0.5;\n  }\n\n  return out;\n}","map":null,"metadata":{},"sourceType":"script"}