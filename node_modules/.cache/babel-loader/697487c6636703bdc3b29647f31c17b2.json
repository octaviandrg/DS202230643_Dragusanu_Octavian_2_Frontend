{"ast":null,"code":"'use strict';\n\nvar Lib = require('../../lib');\n\nvar Axes = require('../../plots/cartesian/axes');\n\nmodule.exports = function formatLabels(cdi, trace, fullLayout) {\n  var labels = {};\n  var subplot = fullLayout[trace.subplot]._subplot;\n  var radialAxis;\n  var angularAxis; // for scatterpolargl texttemplate, _subplot is NOT defined, this takes part during the convert step\n  // TODO we should consider moving the texttemplate formatting logic to the plot step\n\n  if (!subplot) {\n    subplot = fullLayout[trace.subplot];\n    radialAxis = subplot.radialaxis;\n    angularAxis = subplot.angularaxis;\n  } else {\n    radialAxis = subplot.radialAxis;\n    angularAxis = subplot.angularAxis;\n  }\n\n  var rVal = radialAxis.c2l(cdi.r);\n  labels.rLabel = Axes.tickText(radialAxis, rVal, true).text; // N.B here the Â° sign is part of the formatted value for thetaunit:'degrees'\n\n  var thetaVal = angularAxis.thetaunit === 'degrees' ? Lib.rad2deg(cdi.theta) : cdi.theta;\n  labels.thetaLabel = Axes.tickText(angularAxis, thetaVal, true).text;\n  return labels;\n};","map":null,"metadata":{},"sourceType":"script"}