{"ast":null,"code":"'use strict';\n\nvar Lib = require('../../lib');\n\nvar Color = require('../../components/color');\n\nvar boxDefaults = require('../box/defaults');\n\nvar attributes = require('./attributes');\n\nmodule.exports = function supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n  }\n\n  function coerce2(attr, dflt) {\n    return Lib.coerce2(traceIn, traceOut, attributes, attr, dflt);\n  }\n\n  boxDefaults.handleSampleDefaults(traceIn, traceOut, coerce, layout);\n  if (traceOut.visible === false) return;\n  coerce('bandwidth');\n  coerce('side');\n  var width = coerce('width');\n\n  if (!width) {\n    coerce('scalegroup', traceOut.name);\n    coerce('scalemode');\n  }\n\n  var span = coerce('span');\n  var spanmodeDflt;\n  if (Array.isArray(span)) spanmodeDflt = 'manual';\n  coerce('spanmode', spanmodeDflt);\n  var lineColor = coerce('line.color', (traceIn.marker || {}).color || defaultColor);\n  var lineWidth = coerce('line.width');\n  var fillColor = coerce('fillcolor', Color.addOpacity(traceOut.line.color, 0.5));\n  boxDefaults.handlePointsDefaults(traceIn, traceOut, coerce, {\n    prefix: ''\n  });\n  var boxWidth = coerce2('box.width');\n  var boxFillColor = coerce2('box.fillcolor', fillColor);\n  var boxLineColor = coerce2('box.line.color', lineColor);\n  var boxLineWidth = coerce2('box.line.width', lineWidth);\n  var boxVisible = coerce('box.visible', Boolean(boxWidth || boxFillColor || boxLineColor || boxLineWidth));\n  if (!boxVisible) traceOut.box = {\n    visible: false\n  };\n  var meanLineColor = coerce2('meanline.color', lineColor);\n  var meanLineWidth = coerce2('meanline.width', lineWidth);\n  var meanLineVisible = coerce('meanline.visible', Boolean(meanLineColor || meanLineWidth));\n  if (!meanLineVisible) traceOut.meanline = {\n    visible: false\n  };\n  coerce('quartilemethod');\n};","map":null,"metadata":{},"sourceType":"script"}