{"ast":null,"code":"import _classCallCheck from \"/Users/danaliulica/Documents/PROIECT/DS202230643_Dragusanu_Octavian_1_Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/danaliulica/Documents/PROIECT/DS202230643_Dragusanu_Octavian_1_Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/danaliulica/Documents/PROIECT/DS202230643_Dragusanu_Octavian_1_Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/danaliulica/Documents/PROIECT/DS202230643_Dragusanu_Octavian_1_Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/danaliulica/Documents/PROIECT/DS202230643_Dragusanu_Octavian_1_Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/danaliulica/Documents/PROIECT/DS202230643_Dragusanu_Octavian_1_Frontend/src/commons/tables/table.js\";\nimport React, { Component } from \"react\";\nimport ReactTable from 'react-table';\nimport 'react-table/react-table.css';\nimport Field from \"./fields/Field\";\nimport { Col, Row } from \"react-bootstrap\";\n\nvar Table =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Table, _Component);\n\n  function Table(props) {\n    var _this;\n\n    _classCallCheck(this, Table);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Table).call(this, props));\n    _this.state = {\n      data: props.data,\n      columns: props.columns,\n      search: props.search,\n      filters: [],\n      getTrPropsFunction: props.getTrProps,\n      pageSize: props.pageSize || 10\n    };\n    return _this;\n  }\n\n  _createClass(Table, [{\n    key: \"search\",\n    value: function search() {}\n  }, {\n    key: \"filter\",\n    value: function filter(data) {\n      var accepted = true;\n      this.state.filters.forEach(function (val) {\n        if (String(val.value) === \"\") {\n          accepted = true;\n        }\n\n        if (!String(data[val.accessor]).includes(String(val.value)) && !String(val.value).includes(String(data[val.accessor]))) {\n          accepted = false;\n        }\n      });\n      return accepted;\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(value, index, header) {\n      if (this.state.filters === undefined) this.setState({\n        filters: []\n      });\n      this.state.filters[index] = {\n        value: value.target.value,\n        accessor: header\n      };\n      this.forceUpdate();\n    }\n  }, {\n    key: \"getTRPropsType\",\n    value: function getTRPropsType(state, rowInfo) {\n      if (rowInfo) {\n        return {\n          style: {\n            textAlign: \"center\"\n          }\n        };\n      } else return {};\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var data = this.state.data ? this.state.data.filter(function (data) {\n        return _this2.filter(data);\n      }) : [];\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, this.state.search.map(function (header, index) {\n        return React.createElement(Col, {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, React.createElement(Field, {\n          id: header.accessor,\n          label: header.accessor,\n          onChange: function onChange(e) {\n            return _this2.handleChange(e, index, header.accessor);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        })));\n      })), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(ReactTable, {\n        data: data,\n        resolveData: function resolveData(data) {\n          return data.map(function (row) {\n            return row;\n          });\n        },\n        columns: this.state.columns,\n        defaultPageSize: this.state.pageSize,\n        getTrProps: this.getTRPropsType,\n        showPagination: true,\n        style: {\n          height: '300px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Table;\n}(Component);\n\nexport default Table;","map":{"version":3,"sources":["/Users/danaliulica/Documents/PROIECT/DS202230643_Dragusanu_Octavian_1_Frontend/src/commons/tables/table.js"],"names":["React","Component","ReactTable","Field","Col","Row","Table","props","state","data","columns","search","filters","getTrPropsFunction","getTrProps","pageSize","accepted","forEach","val","String","value","accessor","includes","index","header","undefined","setState","target","forceUpdate","rowInfo","style","textAlign","filter","map","e","handleChange","row","getTRPropsType","height"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport ReactTable from 'react-table';\nimport 'react-table/react-table.css';\nimport Field from \"./fields/Field\";\nimport {Col, Row} from \"react-bootstrap\";\n\nclass Table extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            data: props.data,\n            columns: props.columns,\n            search: props.search,\n            filters: [],\n            getTrPropsFunction: props.getTrProps,\n            pageSize: props.pageSize || 10,\n        };\n    }\n\n    search() {\n\n    }\n\n    filter(data) {\n        let accepted = true;\n\n        this.state.filters.forEach(val => {\n            if (String(val.value) === \"\") {\n                accepted = true;\n            }\n\n            if (!String(data[val.accessor]).includes(String(val.value)) && !String(val.value).includes(String(data[val.accessor]))) {\n                accepted = false;\n            }\n        });\n\n        return accepted;\n    }\n\n    handleChange(value, index, header) {\n        if (this.state.filters === undefined)\n            this.setState({filters: []});\n\n        this.state.filters[index] = {\n            value: value.target.value,\n            accessor: header\n        };\n\n        this.forceUpdate();\n    }\n\n\n    getTRPropsType(state, rowInfo) {\n        if (rowInfo) {\n            return {\n                style: {\n                    textAlign: \"center\"\n                }\n            };\n        }\n        else\n            return {};\n    }\n\n\n\n    render() {\n        let data = this.state.data ? this.state.data.filter(data => this.filter(data)) : [];\n\n        return (\n            <div>\n                <Row>\n                    {\n                        this.state.search.map((header, index) => {\n                            return (\n                                <Col key={index}>\n                                    <div >\n                                        <Field id={header.accessor} label={header.accessor}\n                                               onChange={(e) => this.handleChange(e, index, header.accessor)}/>\n                                    </div>\n                                </Col>\n                            )\n                        })\n                    }\n                </Row>\n                <Row>\n                    <Col>\n                        <ReactTable\n                            data={data}\n                            resolveData={data => data.map(row => row)}\n                            columns={this.state.columns}\n                            defaultPageSize={this.state.pageSize}\n                            getTrProps={this.getTRPropsType}\n                            showPagination={true}\n                            style={{\n                                height: '300px'\n                            }}\n                        />\n                    </Col>\n                </Row>\n            </div>\n        )\n    }\n}\n\nexport default Table;\n"]},"metadata":{},"sourceType":"module"}