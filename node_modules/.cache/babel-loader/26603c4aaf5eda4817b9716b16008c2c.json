{"ast":null,"code":"'use strict';\n\nvar stringifyFont = require('css-font/stringify');\n\nvar defaultChars = [32, 126];\nmodule.exports = atlas;\n\nfunction atlas(options) {\n  options = options || {};\n  var shape = options.shape ? options.shape : options.canvas ? [options.canvas.width, options.canvas.height] : [512, 512];\n  var canvas = options.canvas || document.createElement('canvas');\n  var font = options.font;\n  var step = typeof options.step === 'number' ? [options.step, options.step] : options.step || [32, 32];\n  var chars = options.chars || defaultChars;\n  if (font && typeof font !== 'string') font = stringifyFont(font);\n\n  if (!Array.isArray(chars)) {\n    chars = String(chars).split('');\n  } else if (chars.length === 2 && typeof chars[0] === 'number' && typeof chars[1] === 'number') {\n    var newchars = [];\n\n    for (var i = chars[0], j = 0; i <= chars[1]; i++) {\n      newchars[j++] = String.fromCharCode(i);\n    }\n\n    chars = newchars;\n  }\n\n  shape = shape.slice();\n  canvas.width = shape[0];\n  canvas.height = shape[1];\n  var ctx = canvas.getContext('2d');\n  ctx.fillStyle = '#000';\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n  ctx.font = font;\n  ctx.textAlign = 'center';\n  ctx.textBaseline = 'middle';\n  ctx.fillStyle = '#fff';\n  var x = step[0] / 2;\n  var y = step[1] / 2;\n\n  for (var i = 0; i < chars.length; i++) {\n    ctx.fillText(chars[i], x, y);\n    if ((x += step[0]) > shape[0] - step[0] / 2) x = step[0] / 2, y += step[1];\n  }\n\n  return canvas;\n}","map":null,"metadata":{},"sourceType":"script"}