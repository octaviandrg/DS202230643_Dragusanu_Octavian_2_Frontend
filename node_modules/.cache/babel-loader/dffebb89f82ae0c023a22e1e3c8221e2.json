{"ast":null,"code":"'use strict';\n\nvar colorMix = require('tinycolor2').mix;\n\nvar Lib = require('../../../lib');\n\nvar Template = require('../../../plot_api/plot_template');\n\nvar layoutAttributes = require('./axis_attributes');\n\nvar handleTypeDefaults = require('../../cartesian/type_defaults');\n\nvar handleAxisDefaults = require('../../cartesian/axis_defaults');\n\nvar axesNames = ['xaxis', 'yaxis', 'zaxis']; // TODO: hard-coded lightness fraction based on gridline default colors\n// that differ from other subplot types.\n\nvar gridLightness = 100 * (204 - 0x44) / (255 - 0x44);\n\nmodule.exports = function supplyLayoutDefaults(layoutIn, layoutOut, options) {\n  var containerIn, containerOut;\n\n  function coerce(attr, dflt) {\n    return Lib.coerce(containerIn, containerOut, layoutAttributes, attr, dflt);\n  }\n\n  for (var j = 0; j < axesNames.length; j++) {\n    var axName = axesNames[j];\n    containerIn = layoutIn[axName] || {};\n    containerOut = Template.newContainer(layoutOut, axName);\n    containerOut._id = axName[0] + options.scene;\n    containerOut._name = axName;\n    handleTypeDefaults(containerIn, containerOut, coerce, options);\n    handleAxisDefaults(containerIn, containerOut, coerce, {\n      font: options.font,\n      letter: axName[0],\n      data: options.data,\n      showGrid: true,\n      noTickson: true,\n      noTicklabelmode: true,\n      noTicklabelstep: true,\n      noTicklabelposition: true,\n      noTicklabeloverflow: true,\n      bgColor: options.bgColor,\n      calendar: options.calendar\n    }, options.fullLayout);\n    coerce('gridcolor', colorMix(containerOut.color, options.bgColor, gridLightness).toRgbString());\n    coerce('title.text', axName[0]); // shouldn't this be on-par with 2D?\n\n    containerOut.setScale = Lib.noop;\n\n    if (coerce('showspikes')) {\n      coerce('spikesides');\n      coerce('spikethickness');\n      coerce('spikecolor', containerOut.color);\n    }\n\n    coerce('showaxeslabels');\n    if (coerce('showbackground')) coerce('backgroundcolor');\n  }\n};","map":null,"metadata":{},"sourceType":"script"}