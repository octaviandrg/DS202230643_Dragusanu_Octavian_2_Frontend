{"ast":null,"code":"// (c) Copyright 2016, Sean Connelly (@voidqk), http://syntheti.cc\n// MIT License\n// Project Home: https://github.com/voidqk/polybooljs\n//\n// simple linked list implementation that allows you to traverse down nodes and save positions\n//\nvar LinkedList = {\n  create: function create() {\n    var my = {\n      root: {\n        root: true,\n        next: null\n      },\n      exists: function exists(node) {\n        if (node === null || node === my.root) return false;\n        return true;\n      },\n      isEmpty: function isEmpty() {\n        return my.root.next === null;\n      },\n      getHead: function getHead() {\n        return my.root.next;\n      },\n      insertBefore: function insertBefore(node, check) {\n        var last = my.root;\n        var here = my.root.next;\n\n        while (here !== null) {\n          if (check(here)) {\n            node.prev = here.prev;\n            node.next = here;\n            here.prev.next = node;\n            here.prev = node;\n            return;\n          }\n\n          last = here;\n          here = here.next;\n        }\n\n        last.next = node;\n        node.prev = last;\n        node.next = null;\n      },\n      findTransition: function findTransition(check) {\n        var prev = my.root;\n        var here = my.root.next;\n\n        while (here !== null) {\n          if (check(here)) break;\n          prev = here;\n          here = here.next;\n        }\n\n        return {\n          before: prev === my.root ? null : prev,\n          after: here,\n          insert: function insert(node) {\n            node.prev = prev;\n            node.next = here;\n            prev.next = node;\n            if (here !== null) here.prev = node;\n            return node;\n          }\n        };\n      }\n    };\n    return my;\n  },\n  node: function node(data) {\n    data.prev = null;\n    data.next = null;\n\n    data.remove = function () {\n      data.prev.next = data.next;\n      if (data.next) data.next.prev = data.prev;\n      data.prev = null;\n      data.next = null;\n    };\n\n    return data;\n  }\n};\nmodule.exports = LinkedList;","map":null,"metadata":{},"sourceType":"script"}