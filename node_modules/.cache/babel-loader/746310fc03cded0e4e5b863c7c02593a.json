{"ast":null,"code":"'use strict';\n/* eslint-disable consistent-return */\n\nvar readUInt16LE = require('../common').readUInt16LE;\n\nvar HEADER = 0;\nvar TYPE_ICO = 1;\nvar INDEX_SIZE = 16; // Format specification:\n// https://en.wikipedia.org/wiki/ICO_(file_format)#Icon_resource_structure\n\nmodule.exports = function (data) {\n  var header = readUInt16LE(data, 0);\n  var type = readUInt16LE(data, 2);\n  var numImages = readUInt16LE(data, 4);\n\n  if (header !== HEADER || type !== TYPE_ICO || !numImages) {\n    return;\n  }\n\n  var variants = [];\n  var maxSize = {\n    width: 0,\n    height: 0\n  };\n\n  for (var i = 0; i < numImages; i++) {\n    var width = data[6 + INDEX_SIZE * i] || 256;\n    var height = data[6 + INDEX_SIZE * i + 1] || 256;\n    var size = {\n      width: width,\n      height: height\n    };\n    variants.push(size);\n\n    if (width > maxSize.width || height > maxSize.height) {\n      maxSize = size;\n    }\n  }\n\n  return {\n    width: maxSize.width,\n    height: maxSize.height,\n    variants: variants,\n    type: 'ico',\n    mime: 'image/x-icon',\n    wUnits: 'px',\n    hUnits: 'px'\n  };\n};","map":null,"metadata":{},"sourceType":"script"}